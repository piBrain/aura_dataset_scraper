grammar Pibrain::DatasetValidation::Grammar

  rule valid
    method space url
  end

  rule method
    ('POST'|'GET'|'PUT'|'DELETE')
  end

  rule url
    'http''s'?'://'(url_grouping'/'?)*
  end

  rule space
    [ ]+
  end

  rule url_grouping
    (brace_set|([-.+=A-Za-z0-9])|quote_set|user_insert)
  end

  rule user_insert
    '<user_insert>'
  end

  rule brace_set
    curly_bracket_set | square_bracket_set
  end

  rule curly_bracket_set
    '{'user_insert'}'
  end

  rule square_bracket_set
    '['user_insert']'
  end

  rule comma
    ','
  end

  rule quote_set
    ('(square_bracket_set|curly_bracket_set)')
  end

end
